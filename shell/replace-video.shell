#!/bin/bash

# è®¾ç½®æœç´¢ç›®å½•ï¼ˆå¯ä»¥ä¼ å‚æ•°ï¼Œä¹Ÿå¯ä»¥ä¿®æ”¹è¿™é‡Œï¼‰
TARGET_DIR="/home/heirenlop/workspace/heirenlop.github.io/content"  # è¯·ä¿®æ”¹ä¸ºä½ çš„å®é™…ç›®å½•

# è¦æ›¿æ¢çš„æ—§ URL å’Œæ–° URL
OLD_URL="https://pub-5b6dc435fbf3499ca474b4b6941cb647.r2.dev/"
NEW_URL="https://cdn-v.heirenlop.com/"

# éå†æ‰€æœ‰ .html å’Œ .md æ–‡ä»¶
find "$TARGET_DIR" -type f \( -name "*.html" -o -name "*.md" \) | while read -r file; do
  echo "ğŸ” æ›¿æ¢æ–‡ä»¶: $file"
  sed -i "s|$OLD_URL|$NEW_URL|g" "$file"
done

echo "âœ… å…¨éƒ¨æ›¿æ¢å®Œæˆã€‚"

